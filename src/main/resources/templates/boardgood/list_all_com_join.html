<!--/* 
<div th:replace="~{calendar/list_all_com::list_all_fragment}"></div> 
'/calendar/list_all_com.html' 파일의 list_all_fragment를 가져다 사용
*/-->

<!-- /survey/list_search_com.html 파일의 list_search_fragment import -->
<div th:replace="~{boardgood/list_search_com::list_search_fragment}"></div>

<div class='menu_line'></div>

<div th:fragment="list_all_fragment"> 
  <table class="table table-hover" style="width: 100%;">
    <colgroup>
      <col style='width: 5%;'/>
      <col style='width: 15%;'/>
      <col style='width: 20%;'/>    
      <col style='width: 10%;'/>
      <col style='width: 15%;'/>
      <col style='width: 15%;'/>
      <col style='width: 10%;'/>
    </colgroup>
    <thead>
      <tr>
        <th class="th_bs">순서</th>
        <th class="th_bs">등록일</th>
        <th class="th_bs">요청사항 번호</th>
        <th class="th_bs">요청사항 제목</th>
        <th class="th_bs">회원 번호</th>
        <th class="th_bs">회원 이름</th>
        <th class="th_bs">회원 이메일</th>
        <th class="th_bs">기타</th>
      </tr>
    </thead>
    <tbody>
      <tr th:each="BoardgoodMemberVO, status:${list}">
        <td class="td_bs" th:text="|${status.index+1}|"></td>
        <td class="td_bs" th:text="${BoardgoodMemberVO.bdate.substring(0, 10)}"></td>
        <td class="td_bs" th:text="${BoardgoodMemberVO.boardno}"></td>
        <td class="td_bs" th:text="${BoardgoodMemberVO.b_title}"></td>
        <td class="td_bs" th:text="${BoardgoodMemberVO.memberno}"></td>
        <td class="td_bs" th:text="${BoardgoodMemberVO.name}"></td>
        <td class="td_bs" th:text="${BoardgoodMemberVO.email}"></td>
        <td class="td_bs">
          <a href="#" th:onclick="'delete_good(event, ' + ${BoardgoodMemberVO.goodno} + ');'"><img src="/boardgood/images/delete.png" class="icon" title="삭제"></a>
        </td>
      </tr>
    </tbody>
  </table>
  <script>
    function delete_good(e, goodno) {
      let sw = confirm(goodno + '번 글 삭제를 하시겠습니까?\n삭제하면 복구 할 수 없습니다.');
      if (sw == true) {
        document.querySelector('#goodno').value = goodno;
        document.querySelector('#frm').submit();
      }
    }
  </script>
  <form name="frm" id="frm" method="post" action="/boardgood/delete">
    <input type="hidden" name="goodno" id="goodno">
  </form>
  
  <div class="bottom_menu" th:utext="${paging}"></div>
  
</div>